"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getReportingExecutionLink = exports.objectToHash = exports.truncate = exports.printDuration = void 0;

var _prettyMs = _interopRequireDefault(require("pretty-ms"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var printDuration = duration => (0, _prettyMs.default)(duration);

exports.printDuration = printDuration;

var truncate = (text, length) => {
  if (!text || text.length <= length) {
    return text;
  }

  return text.slice(0, length) + '...';
};

exports.truncate = truncate;

var objectToHash = data => {
  if (!data) {
    return 'N/A';
  }

  return Object.values(data).map(item => typeof item === 'object' ? objectToHash(item) : item).filter(item => item).join('-');
};

exports.objectToHash = objectToHash;

var getReportingExecutionLink = (cloud, executionId) => {
  var envPrefix = '';

  if (process.env.NODE_ENV === 'preprod') {
    envPrefix = 'dev-stg.';
  }

  return "https://".concat(cloud, ".app.").concat(envPrefix, "perfectomobile.com/reporting/library/?externalId%5B0%5D=").concat(executionId);
};

exports.getReportingExecutionLink = getReportingExecutionLink;